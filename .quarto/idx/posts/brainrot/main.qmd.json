{"title":"Which meme came first?","markdown":{"yaml":{"title":"Which meme came first?","subtitle":"From Amogus to Zesty","image":"skibidi.png","categories":["Plotly","Python","Visualization"],"format":{"html":{"code-fold":true}}},"headingText":"What the Sigma?","containsRefs":false,"markdown":"\n\n\nSeveral neologisms have recently entered into the vocabulary of younger generations. Because of the rapid pace of change in language, it is difficult to determine when these terms first appeared in the broader culture. To investigate this, we can analyze the relative search volume on Google for these terms over time. By identifying the period with the largest increase in search interest, we can determine when each term gained popularity, and which term entered the broader culture first. \n\nIn order to do this, I downloaded over a hundred CSV files from Google Trends, each containing the relative search volume for a different term. The data spans from January 2010 to the present (September 2024). The data is cleaned and loaded into a pandas DataFrame, and the period with the largest increase in search interest is identified for each term. The relative search volume for each term is then plotted over time, sorted from most to least recent, with a vertical line indicating the period with the largest increase in search interest.\n\n# Finding the biggest spike!\n\nLet's say we want to find the date of the largest increase, $t_{max}$ for any given term. Let $y_t$ represent the search interest value for a given term at time $t$, where $t$ corresponds to any month between January 2010 and the present (September 2024). The change in search interest from one month to the next, $\\Delta y_t$, is computed as the first difference of the time series:\n\n$$\n\\Delta y_t = y_t - y_{t-1}\n$$\n\nTo capture a broader trend in the changes over time, a rolling sum $S$ is calculated over a window of $w$ months. The rolling sum at a given time $t$ is expressed as:\n\n$$\nS_t^{(w)} = \\sum_{i=0}^{w-1} \\Delta y_{t-i}\n$$\n\nFor example, when $w = 3$, the rolling sum at time $t$ is calculated as:\n\n$$\nS_t^{(3)} = \\Delta y_t + \\Delta y_{t-1} + \\Delta y_{t-2}\n$$\n\nThe rolling sum reaches its maximum value at $t_{\\text{max}}$, meaning that this is the period with the largest cumulative increase in search interest:\n\n$$\nt_{\\text{max}} = \\arg\\max_t \\left( S_t^{(w)} \\right)\n$$\n\nBy comparing $t_{\\text{max}}$ across different terms, we can see which terms like \"Sigma\" or \"Rizz\" entered into the broader culture first\n\n# Plots for all Zalpha neologisms \n\n```{python}\n#| code-fold: true\n\nimport os\nimport pandas as pd\nimport datetime\nimport plotly.express as px\nimport numpy as np\nfrom scipy.signal import find_peaks\n\ndata_folder = 'data'\n\ndef extract_term(file_path):\n    with open(file_path, 'r') as file:\n        file.readline()\n        file.readline()\n        second_line = file.readline()\n        term = second_line.split(',')[1].split(':')[0].strip()\n        return term\n\ndef clean_and_load_data(file_path):\n    df = pd.read_csv(file_path, skiprows=2)\\\n            .set_axis(['date', \"value\"], axis=1)\\\n            .assign(value = lambda x: x['value'].replace('<1', '0.5'))\\\n            .assign(value = lambda x: pd.to_numeric(x['value'], errors='coerce'))\\\n            .assign(date = lambda x: pd.to_datetime(x['date'], format='%Y-%m'))\n    return df\n\ndef find_large_increase_periods(\n    df, \n    value=\"value\", \n    window=3, \n    start_date=\"2010-01-01\"):\n\n    return df\\\n        .query('date > @start_date')\\\n        .assign(diff=lambda x: x[value].diff(1))\\\n        .assign(rolling_diff_sum=lambda x: x['diff']\\\n                .rolling(window=window, min_periods=1)\\\n                .sum())\\\n        .query('rolling_diff_sum == rolling_diff_sum.max()')\\\n        .filter(items=['date'])\\\n        .values[0][0]\n\ndef create_plots(data_dict, sorted_date_dict):\n    plots = []\n    for term in sorted_date_dict.keys():\n        df = data_dict[term].query(\"date > '2010-01-01'\")\n        large_increase_date = sorted_date_dict[term]\n\n        fig = px.line(df, \n            x='date', \n            y='value', \n            title=f'\"{term.title()}\" Relative Search Volume on Google',\n            height=200,\n            labels={\n                \"date\": \"<br><br><br>\",\n                \"value\": \"Interest\"})\n\n        fig.add_vline(\n            x=int(large_increase_date) / 1e6,\n            annotation_text=\"Largest Increase\",\n            annotation_position=\"top left\",\n            line=dict(color=\"red\") \n        )\n\n        plots.append(fig)\n    return plots\n\ndata_dict = {}\ndate_dict = {}\n\nfor file in os.listdir(data_folder):\n    if file.endswith('.csv'):\n        file_path = os.path.join(data_folder, file)\n        term = extract_term(file_path)\n        df = clean_and_load_data(file_path) \n        data_dict[term] = df  \n        date_dict[term] = find_large_increase_periods(df)\n\nsorted_date_dict = dict(sorted(date_dict.items(), key=lambda item: item[1], reverse=True))\nplots = create_plots(data_dict, sorted_date_dict)\n\nfor fig in plots:\n    fig.show()\n\n```","srcMarkdownNoYaml":"\n\n# What the Sigma?\n\nSeveral neologisms have recently entered into the vocabulary of younger generations. Because of the rapid pace of change in language, it is difficult to determine when these terms first appeared in the broader culture. To investigate this, we can analyze the relative search volume on Google for these terms over time. By identifying the period with the largest increase in search interest, we can determine when each term gained popularity, and which term entered the broader culture first. \n\nIn order to do this, I downloaded over a hundred CSV files from Google Trends, each containing the relative search volume for a different term. The data spans from January 2010 to the present (September 2024). The data is cleaned and loaded into a pandas DataFrame, and the period with the largest increase in search interest is identified for each term. The relative search volume for each term is then plotted over time, sorted from most to least recent, with a vertical line indicating the period with the largest increase in search interest.\n\n# Finding the biggest spike!\n\nLet's say we want to find the date of the largest increase, $t_{max}$ for any given term. Let $y_t$ represent the search interest value for a given term at time $t$, where $t$ corresponds to any month between January 2010 and the present (September 2024). The change in search interest from one month to the next, $\\Delta y_t$, is computed as the first difference of the time series:\n\n$$\n\\Delta y_t = y_t - y_{t-1}\n$$\n\nTo capture a broader trend in the changes over time, a rolling sum $S$ is calculated over a window of $w$ months. The rolling sum at a given time $t$ is expressed as:\n\n$$\nS_t^{(w)} = \\sum_{i=0}^{w-1} \\Delta y_{t-i}\n$$\n\nFor example, when $w = 3$, the rolling sum at time $t$ is calculated as:\n\n$$\nS_t^{(3)} = \\Delta y_t + \\Delta y_{t-1} + \\Delta y_{t-2}\n$$\n\nThe rolling sum reaches its maximum value at $t_{\\text{max}}$, meaning that this is the period with the largest cumulative increase in search interest:\n\n$$\nt_{\\text{max}} = \\arg\\max_t \\left( S_t^{(w)} \\right)\n$$\n\nBy comparing $t_{\\text{max}}$ across different terms, we can see which terms like \"Sigma\" or \"Rizz\" entered into the broader culture first\n\n# Plots for all Zalpha neologisms \n\n```{python}\n#| code-fold: true\n\nimport os\nimport pandas as pd\nimport datetime\nimport plotly.express as px\nimport numpy as np\nfrom scipy.signal import find_peaks\n\ndata_folder = 'data'\n\ndef extract_term(file_path):\n    with open(file_path, 'r') as file:\n        file.readline()\n        file.readline()\n        second_line = file.readline()\n        term = second_line.split(',')[1].split(':')[0].strip()\n        return term\n\ndef clean_and_load_data(file_path):\n    df = pd.read_csv(file_path, skiprows=2)\\\n            .set_axis(['date', \"value\"], axis=1)\\\n            .assign(value = lambda x: x['value'].replace('<1', '0.5'))\\\n            .assign(value = lambda x: pd.to_numeric(x['value'], errors='coerce'))\\\n            .assign(date = lambda x: pd.to_datetime(x['date'], format='%Y-%m'))\n    return df\n\ndef find_large_increase_periods(\n    df, \n    value=\"value\", \n    window=3, \n    start_date=\"2010-01-01\"):\n\n    return df\\\n        .query('date > @start_date')\\\n        .assign(diff=lambda x: x[value].diff(1))\\\n        .assign(rolling_diff_sum=lambda x: x['diff']\\\n                .rolling(window=window, min_periods=1)\\\n                .sum())\\\n        .query('rolling_diff_sum == rolling_diff_sum.max()')\\\n        .filter(items=['date'])\\\n        .values[0][0]\n\ndef create_plots(data_dict, sorted_date_dict):\n    plots = []\n    for term in sorted_date_dict.keys():\n        df = data_dict[term].query(\"date > '2010-01-01'\")\n        large_increase_date = sorted_date_dict[term]\n\n        fig = px.line(df, \n            x='date', \n            y='value', \n            title=f'\"{term.title()}\" Relative Search Volume on Google',\n            height=200,\n            labels={\n                \"date\": \"<br><br><br>\",\n                \"value\": \"Interest\"})\n\n        fig.add_vline(\n            x=int(large_increase_date) / 1e6,\n            annotation_text=\"Largest Increase\",\n            annotation_position=\"top left\",\n            line=dict(color=\"red\") \n        )\n\n        plots.append(fig)\n    return plots\n\ndata_dict = {}\ndate_dict = {}\n\nfor file in os.listdir(data_folder):\n    if file.endswith('.csv'):\n        file_path = os.path.join(data_folder, file)\n        term = extract_term(file_path)\n        df = clean_and_load_data(file_path) \n        data_dict[term] = df  \n        date_dict[term] = find_large_increase_periods(df)\n\nsorted_date_dict = dict(sorted(date_dict.items(), key=lambda item: item[1], reverse=True))\nplots = create_plots(data_dict, sorted_date_dict)\n\nfor fig in plots:\n    fig.show()\n\n```"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"jupyter"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":true,"code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","output-file":"main.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.6.40","theme":"cosmo","title-block-banner":true,"title":"Which meme came first?","subtitle":"From Amogus to Zesty","image":"skibidi.png","categories":["Plotly","Python","Visualization"]},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}