<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Second Amendment History – AJ Averett</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
.display.math{display: block; text-align: center; margin: 0.5rem auto;}
</style>


<link href="../images/favicon.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<script src="https://cdn.tailwindcss.com"></script>

<link href="https://fonts.googleapis.com/css2?family=IM+Fell+English:ital@0;1&amp;family=Lato:wght@400;700&amp;display=swap" rel="stylesheet">


<link rel="stylesheet" href="../styles/historytemp.css">
<meta property="og:title" content="Second Amendment History – AJ Averett">
<meta property="og:description" content="Timeline of the Second Amendment Development">
<meta property="og:image" content="https://ajaverett.com/blocks/images/washington.png">
<meta property="og:site_name" content="AJ Averett">
<meta property="og:image:height" content="279">
<meta property="og:image:width" content="335">
<meta name="twitter:title" content="Second Amendment History – AJ Averett">
<meta name="twitter:description" content="Timeline of the Second Amendment Development">
<meta name="twitter:image" content="https://ajaverett.com/blocks/images/washington.png">
<meta name="twitter:image-height" content="279">
<meta name="twitter:image-width" content="335">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="bg-[#fdfbf7] text-[#2c1810] overflow-hidden h-screen w-screen selection:bg-[#8b0000] selection:text-white">


<header id="title-block-header">
<h1 class="title">Second Amendment History</h1>
<p class="subtitle">Timeline of the Second Amendment Development</p>

</header>


<div style="display: none;">
<p>Timeline of the Second Amendment Development</p>
</div>


    <div id="cinematic-bg" class="absolute inset-0 bg-cover bg-center opacity-0 transition-opacity duration-1000 z-0 pointer-events-none"></div>

    <div class="relative z-10 flex h-full w-full">

        <div id="sidebar" class="flex-none w-[60px] md:w-[200px] h-full bg-[#f4f1ea] border-r-2 border-[#dcd6ce] z-20 shadow-xl overflow-hidden relative flex flex-col">
            
            <div class="h-[50px] hidden md:flex items-center justify-center border-b border-[#dcd6ce] font-fell italic text-xl flex-none bg-[#f4f1ea] z-10">
                <span>The States </span>
            </div>
            
            <div id="state-list-container" class="flex flex-col overflow-y-auto">
            </div>
        </div>

        <div id="timeline-viewport" class="flex-1 relative overflow-x-scroll overflow-y-hidden custom-scrollbar">
                
            <div id="playhead" class="fixed top-0 bottom-0 left-1/2 w-[2px] bg-[#8b0000] z-10 transform -translate-x-1/2 pointer-events-none shadow-[0_0_10px_rgba(139,0,0,0.5)]">
                <div class="hidden md:block absolute top-2 left-1/2 -translate-x-1/2 bg-[#8b0000] text-[#fdfbf7] px-2 py-1 text-xs font-bold rounded font-lato whitespace-nowrap">
                    <span id="current-date-display">1785</span>
                </div>
            </div>

            <div id="timeline-content" class="relative h-full">
                
                <div id="timeline-offset" class="relative w-full h-full mt-0 md:mt-[50px]">
                    
                    <div id="grid-lines" class="absolute inset-0 pointer-events-none"></div>
                    
                    <div id="events-container" class="absolute inset-0 w-full h-full"></div>
                    
                </div>
            </div>

        </div>
    </div>

    <div id="info-card" class="fixed bottom-0 left-[60px] right-0 md:left-auto md:right-8 md:bottom-8 md:w-[400px] bg-[#fdfbf7] border-t md:border-2 border-[#2c1810] shadow-2xl transform translate-y-[120%] transition-transform duration-500 z-40 p-4 rounded-t-lg md:rounded-lg">
        <div id="card-content">
            
            <div id="card-image-container" class="hidden mb-3 overflow-hidden rounded border border-[#2c1810] opacity-100 sepia-[.2]">
                <img id="card-image" src="" alt="" class="w-full h-48 object-cover block">
            </div>
            
            <div class="border-b border-[#2c1810]/20 pb-2 mb-2">
                <h2 id="card-title" class="font-fell text-2xl md:text-3xl text-[#8b0000] leading-none mb-1 anchored">Event Title</h2>
                <p id="card-date" class="font-lato text-xs font-bold text-[#2c1810]/50 uppercase tracking-widest">Date</p>
            </div>

            <p id="card-desc" class="font-lato text-sm md:text-base leading-relaxed text-[#2c1810]"></p>
        </div>
    </div>

 



<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/ajaverett\.com");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
});
</script>
<script>
    // --- CONFIGURATION ---
    const CONFIG = {
        START_DATE: new Date("1787-01-01"),
        END_DATE: new Date("1791-12-31"),
        TOTAL_WIDTH: 100000, // Pixels for the total timeline length
        TRIGGER_THRESHOLD: 200, // Pixels from center to trigger event
        VERTICAL_OFFSET: 20,
    };

    // Hardcoded States (sorted by ratification generally, or geographic)
    const STATES = [
        { name: "Delaware", abbr: "DE" },
        { name: "Pennsylvania", abbr: "PA" },
        { name: "New Jersey", abbr: "NJ" },
        { name: "Georgia", abbr: "GA" },
        { name: "Connecticut", abbr: "CT" },
        { name: "Massachusetts", abbr: "MA" },
        { name: "Maryland", abbr: "MD" },
        { name: "South Carolina", abbr: "SC" },
        { name: "New Hampshire", abbr: "NH" },
        { name: "Virginia", abbr: "VA" },
        { name: "New York", abbr: "NY" },
        { name: "North Carolina", abbr: "NC" },
        { name: "Rhode Island", abbr: "RI" }
    ];

    let eventsData = [];
    let activeEventId = null;

    // --- DOM ELEMENTS ---
    const elements = {
        sidebar: document.getElementById('state-list-container'),
        timelineViewport: document.getElementById('timeline-viewport'),
        timelineContent: document.getElementById('timeline-content'),
        gridLines: document.getElementById('grid-lines'),
        eventsContainer: document.getElementById('events-container'),
        infoCard: document.getElementById('info-card'),
        cinematicBg: document.getElementById('cinematic-bg'),
        dateDisplay: document.getElementById('current-date-display'),
        // Card Elements
        cardTitle: document.getElementById('card-title'),
        cardDate: document.getElementById('card-date'),
        cardDesc: document.getElementById('card-desc'),
        cardImgContainer: document.getElementById('card-image-container'),
        cardImg: document.getElementById('card-image')
    };

    // --- INITIALIZATION ---

    async function init() {
        setupLayout();
        renderSidebar();
        renderGridBackground();

        window.addEventListener('resize', setupLayout);

        // Fetch Data
        try {
            const response = await fetch('data/history_events.json');
            if (!response.ok) throw new Error('Network response not ok');
            eventsData = await response.json();
            renderEvents();
            renderBanners();

            // Start Loop
            requestAnimationFrame(updateLoop);
        } catch (error) {
            console.error("Error loading events:", error);
        }
    }

    function setupLayout() {
        // 1. Set Timeline Width
        elements.timelineContent.style.width = `${CONFIG.TOTAL_WIDTH}px`;

        elements.sidebar.style.paddingTop = `${CONFIG.VERTICAL_OFFSET}px`;

        // 2. Force content-box (Crucial for math accuracy)
        elements.timelineContent.style.boxSizing = 'content-box';

        // 3. THE FIX: Dynamic Calculation
        const halfScreen = window.innerWidth / 2;

        // Get the actual width of the sidebar (200px on desktop, 60px on mobile)
        const sidebarEl = document.getElementById('sidebar');
        const sidebarWidth = sidebarEl ? sidebarEl.offsetWidth : 0;

        // LEFT PADDING: Subtract sidebar width so the start hits the exact screen center
        elements.timelineContent.style.paddingLeft = `${halfScreen - sidebarWidth}px`;

        // RIGHT PADDING: Keeps the end reachable (Standard 50vw)
        elements.timelineContent.style.paddingRight = `${halfScreen}px`;
    }
    // --- RENDERING ---

    function renderSidebar() {
        STATES.forEach((state, index) => {
            const row = document.createElement('div');

            row.className = 'state-row h-[40px] flex items-center px-4 font-fell text-lg text-[#2c1810]';

            row.dataset.state = state.name;
            row.innerHTML = `
                <span class="hidden md:block">${state.name}</span>
                <span class="md:hidden font-bold">${state.abbr}</span>
            `;
            elements.sidebar.appendChild(row);
        });
    }

    function renderGridBackground() {
        // 1. Horizontal Lines (matching sidebar rows)
        STATES.forEach((state, index) => {
                const line = document.createElement('div');
                line.className = 'timeline-row-line h-[40px] w-full absolute';

                // CHANGED: Added + 60 to push grid down
                line.style.top = `${(index * 40) + CONFIG.VERTICAL_OFFSET}px`;

                line.dataset.stateRow = state.name;
                elements.gridLines.appendChild(line);
            });
        // 2. Vertical Year Markers
        const startYear = CONFIG.START_DATE.getFullYear();
        const endYear = CONFIG.END_DATE.getFullYear();

        for (let year = startYear; year <= endYear; year++) {
            const dateStr = `${year}-01-01`;
            const leftPos = dateToPixel(dateStr);

            const marker = document.createElement('div');
            marker.className = 'absolute top-0 bottom-0 border-l border-[#2c1810]/20 font-fell text-4xl text-[#2c1810]/10 pl-2 select-none';
            marker.style.left = `${leftPos}px`;
            marker.innerText = year;
            elements.gridLines.appendChild(marker);
        }
    }

    function renderEvents() {
        elements.eventsContainer.innerHTML = '';
        const placedLabels = [];

        eventsData.forEach((event, index) => {
            const leftPos = dateToPixel(event.date);
            event.id = index;

            // 1. VERTICAL DROP LINE (Background)
            const dropLine = document.createElement('div');
            dropLine.className = 'absolute top-0 bottom-0 border-l border-dashed border-[#2c1810]/20 pointer-events-none z-0';
            dropLine.style.left = `${leftPos}px`;
            elements.eventsContainer.appendChild(dropLine);
            event.domElement = dropLine;

            // CHECK: Is this a "Pure" Union event (No specific location)?
            const isPureUnion = event.involved.includes("All") && !event.location;

            if (isPureUnion) {
                // --- RENDER FULL VERTICAL LINE (Old Way) ---
                const unionLine = document.createElement('div');
                unionLine.className = 'absolute top-0 md:-top-[50px] bottom-0 w-[4px] bg-[#2c1810] z-20 transform -translate-x-1/2';
                unionLine.style.left = `${leftPos}px`;

                const badge = document.createElement('div');
                badge.className = 'absolute top-[40%] left-1/2 transform -translate-x-1/2 bg-[#2c1810] text-[#fdfbf7] px-3 py-1 font-fell text-lg tracking-widest whitespace-nowrap shadow-lg border border-[#fdfbf7]/20';
                badge.innerText = event.title.toUpperCase();

                unionLine.appendChild(badge);
                elements.eventsContainer.appendChild(unionLine);

            } else {
                // --- RENDER ROW-BASED EVENT (State OR Union w/ Location) ---

                // A. Determine which states get diamonds
                let targetStates = [];
                if (event.location) {
                    // Hybrid Case: It's an "All" event, but pinned to ONE location
                    targetStates = [event.location];
                } else {
                    // Standard Case: It's specific states
                    targetStates = event.involved;
                }

                // B. Determine the "Primary" state for the label (highest up)
                // Sort by sidebar index
                const sortedTargets = targetStates.map(name => {
                    return { name, index: STATES.findIndex(s => s.name === name) };
                }).sort((a, b) => a.index - b.index);

                const primaryState = sortedTargets[0];
                if (!primaryState || primaryState.index === -1) return;

                // C. Render Diamonds
                targetStates.forEach(stateName => {
                    const sIndex = STATES.findIndex(s => s.name === stateName);
                    if (sIndex === -1) return;

                    // Calculate Top Position (including your Config Offset)
                    const topPos = (sIndex * 40) + 20 + CONFIG.VERTICAL_OFFSET;

                    // 1. Create a Wrapper (The Anchor)
                    // This holds both the Diamond and the Tooltip in the same spot
                    const wrapper = document.createElement('div');
                    wrapper.className = 'absolute transform -translate-x-1/2 -translate-y-1/2 z-30 group cursor-help';
                    wrapper.style.left = `${leftPos}px`;
                    wrapper.style.top = `${topPos}px`;

                    // 2. The Diamond (Visuals only, scales on group hover)
                    const diamond = document.createElement('div');
                    // Note: We removed absolute positioning here because the wrapper handles location
                    diamond.className = 'w-4 h-4 bg-[#8b0000] rotate-45 shadow-sm transition-transform duration-200 group-hover:scale-150';
                    wrapper.appendChild(diamond);

                    // 3. The Tooltip (Sibling, does NOT scale)
                    if (event.tooltip && event.tooltip[stateName]) {
                        const tip = document.createElement('div');

                        // UPDATED:
                        // 1. Changed 'bottom-6' to 'top-6' (Moves it BELOW the diamond)
                        // 2. Kept all other styles exactly the same
                        tip.className = 'absolute top-6 left-1/2 -translate-x-1/2 bg-[#2c1810] text-[#fdfbf7] text-[11px] font-lato tracking-wide p-3 rounded w-max max-w-[220px] opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none shadow-2xl border border-[#fdfbf7]/10 z-50';

                        // UPDATED: Changed innerText to innerHTML
                        tip.innerHTML = event.tooltip[stateName];

                        wrapper.appendChild(tip);
                    }

                    elements.eventsContainer.appendChild(wrapper);
                });

                // D. Smart Label Placement (Collision Logic)
                let labelX = leftPos + 15;
                let labelY = (primaryState.index * 40) + 5 + CONFIG.VERTICAL_OFFSET;

                // Estimate Text Dimensions based on type (Larger events = larger text space)
                let charWidth = 10;
                if (event.type === 'large') charWidth = 14;

                const textWidth = (event.title.length * charWidth) + 20;
                const textHeight = 40;

                let collision = true;
                let safetyCounter = 0;

                while (collision && safetyCounter < 20) {
                    collision = false;
                    for (const placed of placedLabels) {
                        const xOverlap = (labelX < placed.right + 10) && ((labelX + textWidth) > placed.left);
                        const yOverlap = (labelY < placed.bottom) && ((labelY + textHeight) > placed.top);
                        if (xOverlap && yOverlap) {
                            collision = true;
                            labelY += 40; // Bump down one row
                            break;
                        }
                    }
                    safetyCounter++;
                }

                placedLabels.push({ left: labelX, right: labelX + textWidth, top: labelY, bottom: labelY + textHeight });

                const label = document.createElement('div');

                // CHANGED: Dynamic Styling based on Event Type
                let baseClasses = 'absolute font-fell italic whitespace-nowrap select-none z-20 pointer-events-none text-[#2c1810] ';

                if (event.type === 'large') {
                    // Big, Bold, Fully Opaque
                    label.className = baseClasses + 'text-3xl font-bold opacity-100 drop-shadow-md';
                } else if (event.type === 'medium') {
                    // Normal size, slightly distinct
                    label.className = baseClasses + 'text-xl font-bold opacity-80';
                } else {
                    // Small, Fainter
                    label.className = baseClasses + 'text-lg opacity-60';
                }

                label.style.left = `${labelX}px`;
                label.style.top = `${labelY}px`;
                label.innerText = event.title;
                elements.eventsContainer.appendChild(label);
            }
        });
    }

    function renderBanners() {
        eventsData.forEach(event => {
            if (event.type !== 'banner' || !event.endDate) return;

            const startX = dateToPixel(event.date);
            const endX = dateToPixel(event.endDate);
            const width = endX - startX;

            // 1. The Horizontal Bar (Visual Duration)
            const bannerBar = document.createElement('div');
            // Red background/border with low opacity
            // Added 'flex' to manage the sticky child correctly
            bannerBar.className = 'absolute top-0 h-[8px] bg-[#8b0000]/20 border-b border-[#8b0000]/30 z-0 pointer-events-none flex';
            bannerBar.style.left = `${startX}px`;
            bannerBar.style.width = `${width}px`;

            // 2. The Sliding Label (CSS Sticky)
            const labelDiv = document.createElement('div');

            // EXPLANATION OF CLASSES:
            // 'sticky': Tells browser to stick this element to the view
            // 'left-0': Sticks it to the left edge of the camera
            // 'mt-3': Pushes it down below the 8px bar
            // 'pl-2': Adds a little padding so it doesn't touch the screen edge
            // 'text-[#2c1810]/50': Brown text (slightly more visible 50% opacity)
            labelDiv.className = 'sticky left-0 mt-3 pl-2 text-[10px] font-bold font-lato text-[#2c1810]/50 uppercase tracking-widest whitespace-nowrap self-start';
            labelDiv.innerText = `${event.title}`;

            bannerBar.appendChild(labelDiv);
            elements.eventsContainer.appendChild(bannerBar);

            // Save positions (still useful for other logic if needed)
            event.bannerStart = startX;
            event.bannerEnd = endX;
        });
    }

    // --- MATH HELPERS ---

    function dateToPixel(dateString) {
        const date = new Date(dateString);
        const totalTime = CONFIG.END_DATE - CONFIG.START_DATE;
        const eventTime = date - CONFIG.START_DATE;
        const percentage = eventTime / totalTime;
        return percentage * CONFIG.TOTAL_WIDTH;
    }

    function pixelToDate(pixel) {
        const percentage = pixel / CONFIG.TOTAL_WIDTH;
        const totalTime = CONFIG.END_DATE - CONFIG.START_DATE;
        const timeElapsed = totalTime * percentage;
        const newDate = new Date(CONFIG.START_DATE.getTime() + timeElapsed);

        // CHANGED: Format as "Month, Year"
        const month = newDate.toLocaleString('default', { month: 'long' });
        return `${month}, ${newDate.getFullYear()}`;
    }

    // --- THE GAME LOOP (RequestAnimationFrame) ---

    function updateLoop() {
        // 1. Get the visual center of the screen
        const screenCenter = window.innerWidth / 2;

        // Update Date Display
        const scrollLeft = elements.timelineViewport.scrollLeft;
        elements.dateDisplay.innerText = pixelToDate(scrollLeft);

        // 2. Find Active Event using VISUAL POSITION
        let foundEvent = null;
        const VISUAL_THRESHOLD = 50;
        let closestDist = VISUAL_THRESHOLD;

        eventsData.forEach(event => {
            if (!event.domElement) return;

            const rect = event.domElement.getBoundingClientRect();
            const dist = Math.abs(rect.left - screenCenter);

            if (dist < closestDist) {
                closestDist = dist;
                foundEvent = event;
            }
        });

        if (foundEvent && foundEvent.id !== activeEventId) {
            activateEvent(foundEvent);
        } else if (!foundEvent && activeEventId !== null) {
            deactivateEvent();
        }

        requestAnimationFrame(updateLoop);
    }

    // --- INTERACTION LOGIC ---

    function activateEvent(event) {
        activeEventId = event.id;

        // 1. Update Card Content
        elements.cardTitle.innerText = event.title;
        elements.cardDate.innerText = formatFriendlyDate(event.date);
        elements.cardDesc.innerText = event.description;

        // CHANGED: Logic to show image if it exists, regardless of 'type'
        if (event.image) {
            elements.cardImg.src = event.image;
            elements.cardImgContainer.classList.remove('hidden');
        } else {
            elements.cardImgContainer.classList.add('hidden');
        }

        elements.infoCard.classList.remove('translate-y-[120%]');

        // ... (Keep the rest of the function: "Matrix Lines", "Cinematic BG", "Hybrid Check" etc.)
        // ...
        // 2. Handle "Matrix" Lines
        document.querySelectorAll('.state-row, .timeline-row-line').forEach(el => el.classList.remove('active'));

        if (event.involved.includes("All")) {
            // ... (Keep existing Union Logic)
            if (event.type === 'large' && event.bgImage) {
                elements.cinematicBg.style.backgroundImage = `url('${event.bgImage}')`;
                elements.cinematicBg.classList.remove('opacity-0');
                elements.sidebar.classList.add('opacity-50');
                elements.gridLines.classList.add('blur-mode');
            }
            if (event.location) {
                const sidebarRow = document.querySelector(`.state-row[data-state="${event.location}"]`);
                if (sidebarRow) sidebarRow.classList.add('active');
                const gridRow = document.querySelector(`.timeline-row-line[data-state-row="${event.location}"]`);
                if (gridRow) gridRow.classList.add('active');
            }
        } else {
            // ... (Keep existing State Logic)
            event.involved.forEach(stateName => {
                const sidebarRow = document.querySelector(`.state-row[data-state="${stateName}"]`);
                if (sidebarRow) sidebarRow.classList.add('active');
                const gridRow = document.querySelector(`.timeline-row-line[data-state-row="${stateName}"]`);
                if (gridRow) gridRow.classList.add('active');
            });
        }
    }

    function deactivateEvent() {
        activeEventId = null;

        // Hide Card
        elements.infoCard.classList.add('translate-y-[120%]');

        // Reset Rows
        document.querySelectorAll('.state-row, .timeline-row-line').forEach(el => el.classList.remove('active'));

        // Reset Cinematic Mode
        elements.cinematicBg.classList.add('opacity-0');
        elements.sidebar.classList.remove('opacity-50');
        elements.gridLines.classList.remove('blur-mode');
    }

    function formatFriendlyDate(dateString) {
        // 1. Parse the date ensuring no timezone offsets shift the day
        const [year, month, day] = dateString.split('-');
        const date = new Date(year, month - 1, day);

        // 2. Get Month Name
        const monthName = date.toLocaleString('default', { month: 'long' });

        // 3. Get Day and determine Suffix (st, nd, rd, th)
        const d = parseInt(day);
        let suffix = 'th';

        if (d > 3 && d < 21) {
            suffix = 'th'; // Covers 4-20 (11th, 12th, 13th)
        } else {
            switch (d % 10) {
                case 1:  suffix = "st"; break;
                case 2:  suffix = "nd"; break;
                case 3:  suffix = "rd"; break;
            }
        }

        return `${monthName} ${d}${suffix}, ${year}`;
    }

    // Start
    init();
</script>




</body></html>